/*!build time : 2013-12.0.01 3:35:27 PM*/
KISSY.add("kg/sideNav/2.0.0/mods/tool",function(a){function b(a){var b=document.createElement("div"),c="Khtml Ms O Moz Webkit".split(" "),d=c.length;if(a in b.style)return!0;for(a=a.replace(/^[a-z]/,function(a){return a.toUpperCase()});d--;)if(c[d]+a in b.style)return!0;return!1}function c(){return d("html").hasClass(".ks-ie6")}var d=a.Node.all,e={isIE6:c(),isSupportTransition:b("transition"),isSupportTransform:b("transform"),isSupportFilter:b("filter"),transition:function(a,b,c){var d=a+" "+b/1e3+"s "+c;return{"-webkit-transition":d,"-moz-transition":d,"-o-transition":d,transition:d}},transform:function(a){return{"-webkit-transform":a,"-moz-transform":a,"-o-transform":a,transform:a}},filter:function(a){return{"-webkit-filter":a,"-moz-filter":a,"-o-filter":a,filter:a}},scrollWindow:function(a,b,c,e){c?d(window).animate({scrollLeft:a+1,scrollTop:b+1},c/1e3,e):window.scrollTo(a+1,b+1)}};return e}),KISSY.add("kg/sideNav/2.0.0/mods/normal",function(a,b){b.all;var c={display:"none"},d={display:"block"},e={display:"none"},f={reset:function(a){a.cfg,a.navNode.css(c)},show:function(a){a.cfg,a.navNode.css(d)},hide:function(a){a.cfg,a.navNode.css(e)}};return f},{requires:["node","anim","base","./tool"]}),KISSY.add("kg/sideNav/2.0.0/mods/fade",function(a,b,c,d,e){b.all;var f=!1,g={opacity:"0",display:"block"},h={display:"none"},i={opacity:"1"},j={opacity:"0"},k={reset:function(b){var c=b.cfg;e.isSupportTransition?(b.navNode.css(g),a.later(function(){var a=e.transition("all",c.duration,c.easing);b.navNode.css(a)},10)):b.navNode.css(h)},show:function(b){var c=b.cfg;e.isSupportTransition?(b.rootNode.show(),a.later(function(){f=!0,b.navNode.css(i)},10),a.later(function(){f=!1},10+c.duration)):b.navNode.fadeIn(c.duration/1e3,null,c.easing)},hide:function(b){var c=b.cfg;e.isSupportTransition?(b.navNode.css(j),a.later(function(){f||b.rootNode.hide()},c.duration)):b.navNode.fadeOut(c.duration/1e3,null,c.easing)}};return k},{requires:["node","anim","base","./tool"]}),KISSY.add("kg/sideNav/2.0.0/mods/zoom",function(a,b,c,d,e){b.all;var f=!1,g=a.merge(e.transform("scale(0)"),{display:"block"}),h={width:"0",height:"0",overflow:"hidden",display:"block"},i=e.transform("scale(1)"),j=e.transform("scale(0)"),k={reset:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.navNode.css(g),a.later(function(){var a=e.transition("all",c.duration,c.easing);b.navNode.css(a)},10)):b.navNode.css(h)},show:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.rootNode.show(),a.later(function(){f=!0,b.navNode.css(i)},10),a.later(function(){f=!1},10+c.duration)):b.navNode.animate({width:b.navWidth,height:b.navHeight},c.duration/1e3,c.easing)},hide:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.navNode.css(j),a.later(function(){f||b.rootNode.hide()},c.duration)):b.navNode.animate({width:0,height:0},c.duration/1e3,c.easing)}};return k},{requires:["node","anim","base","./tool"]}),KISSY.add("kg/sideNav/2.0.0/mods/rotate",function(a,b,c,d,e){b.all;var f=!1,g=a.merge(e.transform("scale(0) rotate(-270deg)"),{display:"block"}),h={width:"0",height:"0",overflow:"hidden",display:"block"},i=e.transform("scale(1) rotate(0)"),j=e.transform("scale(0) rotate(-270deg)"),k={reset:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.navNode.css(g),a.later(function(){var a=e.transition("all",c.duration,c.easing);b.navNode.css(a)},10)):b.navNode.css(h)},show:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.rootNode.show(),a.later(function(){f=!0,b.navNode.css(i)},10),a.later(function(){f=!1},10+c.duration)):b.navNode.animate({width:b.navWidth,height:b.navHeight},c.duration/1e3,c.easing)},hide:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.navNode.css(j),a.later(function(){f||b.rootNode.hide()},c.duration)):b.navNode.animate({width:0,height:0},c.duration/1e3,c.easing)}};return k},{requires:["node","anim","base","./tool"]}),KISSY.add("kg/sideNav/2.0.0/mods/blur",function(a,b,c,d,e){b.all;var f=!1,g=a.merge(e.filter("blur(5px)"),{opacity:"0",display:"block"}),h={display:"none"},i=a.merge(e.filter("blur(0)"),{opacity:"1"}),j=a.merge(e.filter("blur(5px)"),{opacity:"0"}),k={reset:function(b){var c=b.cfg;e.isSupportFilter&&e.isSupportTransition?(b.rootNode.css({overflow:"hidden",width:b.navWidth+10,height:b.navHeight+10}),b.navNode.css(g),a.later(function(){var a=e.transition("all",c.duration,c.easing);b.navNode.css(a)},10)):b.navNode.css(h)},show:function(b){var c=b.cfg;e.isSupportFilter&&e.isSupportTransition?(b.rootNode.show(),a.later(function(){f=!0,b.navNode.css(i)},10),a.later(function(){f=!1},10+c.duration)):b.navNode.fadeIn(c.duration/1e3,null,c.easing)},hide:function(b){var c=b.cfg;e.isSupportFilter&&e.isSupportTransition?(b.navNode.css(j),a.later(function(){f||b.rootNode.hide()},c.duration)):b.navNode.fadeOut(c.duration/1e3,null,c.easing)}};return k},{requires:["node","anim","base","./tool"]}),KISSY.add("kg/sideNav/2.0.0/mods/blink",function(a,b,c,d,e){b.all;var f=!1,g=a.merge(e.transform("scale(1.2)"),{opacity:"0",display:"block"}),h={display:"none"},i=a.merge(e.transform("scale(1)"),{opacity:"1"}),j=a.merge(e.transform("scale(1.2)"),{opacity:"0"}),k={reset:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.navNode.css(g),a.later(function(){var a=e.transition("all",c.duration,c.easing);b.navNode.css(a)},10)):b.navNode.css(h)},show:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.rootNode.show(),a.later(function(){f=!0,b.navNode.css(i)},10),a.later(function(){f=!1},10+c.duration)):b.navNode.fadeIn(c.duration/1e3,null,c.easing)},hide:function(b){var c=b.cfg;e.isSupportTransform&&e.isSupportTransition?(b.navNode.css(j),a.later(function(){f||b.rootNode.hide()},c.duration)):b.navNode.fadeOut(c.duration/1e3,null,c.easing)}};return k},{requires:["node","anim","base","./tool"]}),KISSY.add("kg/sideNav/2.0.0/index",function(a,b,c,d,e,f,g,h,i,j,k){function l(b){var c=this;return this instanceof l?(c.cfg=a.mix(n,b,!0,null,!0),c.init(),l.superclass.constructor.call(c,b),void 0):new l(b)}var m=b.all,n={node:"",effect:"zoom",easing:"ease",duration:300,frequency:2.0.0,when:{type:1,top:300,node:"",delay:1e3},top:{node:"",easing:"ease",duration:300},map:{enable:!1,easing:"ease",duration:300,curPannelCls:"sn-cur-pannel",curNavCls:"sn-cur-nav",rule:{"":""}}};return a.extend(l,d,{_checkParam:function(){var b=this,c=b.cfg,d=!0,e=["normal","fade","zoom","rotate","blur","blink"],f=["linear","ease","ease-in","ease-out","ease-in-out"];return m(c.node).length||(d=!1,a.log("can't find node.")),a.inArray(c.effect,e)||(c.effect="zoom"),a.inArray(c.easing,f)||(c.easing="ease"),a.isNumber(c.frequency)||(c.frequency=2.0.0),2!=c.when.type&&4!=c.when.type||m(c.when.node).length||(d=!1,a.log("can't find when node.")),a.isNumber(c.when.top)||(c.when.top=300),a.isNumber(c.when.delay)||(c.when.delay=3e3),a.inArray(c.top.easing,f)||(c.top.easing="ease"),m(c.top.node).length||a.log("can't find top node."),a.isNumber(c.top.duration)||(c.top.duration=300),a.inArray(c.map.easing,f)||(c.map.easing="ease"),a.isNumber(c.map.duration)||(c.map.duration=300),c.map.curNavCls||(c.map.curNavCls="sn-cur-nav"),c.map.curPannelCls||(c.map.curPannelCls="sn-cur-pannel"),d},_initCxt:function(){var b=this,c=b.cfg;b.rootNode=m(c.node),b.navHeight=b.rootNode.height(),b.navWidth=b.rootNode.width();var d='<div class="sn-nav-wrapper"></div>';b.rootNode.wrapInner(d),b.navNode=b.rootNode.one(".sn-nav-wrapper"),b.navNode.css({position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto",display:"none",width:b.navWidth,height:b.navHeight}),b.rootNode.css({display:"block",overflow:"visible",width:b.navWidth,height:b.navHeight}),b.whenNode=m(c.when.node),b.topNode=m(c.top.node),c.map.enable&&(b.navNodes=new a.NodeList,b.pannelNodes=new a.NodeList,a.each(c.map.rule,function(a,c){var d=m(c),e=m(a);d.length&&e.length&&(b.navNodes=b.navNodes.add(d),b.pannelNodes=b.pannelNodes.add(e))})),b.anim=b._getAnimObj()},_scrollCallBack:function(){var b=this,c=b.cfg,d=0,e=document.body.scrollTop||document.documentElement&&document.documentElement.scrollTop;if(3!=c.when.type&&(1==c.when.type&&(d=c.when.top),2==c.when.type&&(d=b.whenNode.offset().top-m(window).height()),4==c.when.type&&(d=b.whenNode.offset().top),e>=d?b.show():b.hide()),c.map.enable){var f=999999,g=0,h=0,i=0,j=999999,k=0;a.each(b.pannelNodes,function(a,b){var c=m(a),d=c.offset().top,l=e-d;l>=0&&Math.abs(l)<=f&&(f=Math.abs(l),g=b),d>=h&&(h=d,i=b),j>=d&&(j=d,k=b)});var l=b.pannelNodes.item(i),n=b.pannelNodes.item(k);pannelBottom=l.height()+l.offset().top,pannelTop=n.offset().top-m(window).height(),m("."+c.map.curNavCls).removeClass(c.map.curNavCls),m("."+c.map.curPannelCls).removeClass(c.map.curPannelCls),pannelBottom>e&&e>pannelTop&&(b.navNodes.item(g).addClass(c.map.curNavCls),b.pannelNodes.item(g).addClass(c.map.curPannelCls))}return!0},_addEvent:function(){var b=this,c=b.cfg,d=a.buffer(b._scrollCallBack,c.frequency,this);d(),m(window).on("scroll resize",function(){d()}),b.topNode.length&&b.topNode.on("click",function(a){a.preventDefault(),k.scrollWindow(0,0,c.top.duration,c.top.easing)}),c.map.enable&&b.navNodes.on("click",function(a){a.preventDefault();var d=m(this),e=b.navNodes.index(d),f=b.pannelNodes.item(e),g=f.offset().top;k.scrollWindow(0,g,c.map.duration,c.map.easing),m("."+c.map.curNavCls).removeClass(c.map.curNavCls),m("."+c.map.curPannelCls).removeClass(c.map.curPannelCls),d.addClass(c.map.curNavCls),f.addClass(c.map.curPannelCls)})},_when:function(){var b=this,c=b.cfg;3==c.when.type&&a.later(b.show,c.when.delay,!1,b)},stopAnim:function(a){c.stop(a,!0)},_getAnimObj:function(){var a=this,b=a.cfg,c=f;return c="normal"==b.effect?e:"fade"==b.effect?f:"zoom"==b.effect?g:"rotate"==b.effect?h:"blur"==b.effect?i:"blink"==b.effect?j:f,k.isIE6&&c!=f&&(c=e),c},_resetStyle:function(){var a=this;a.cfg,a.anim.reset(a)},show:function(){var a=this;a.cfg,a.stopAnim(a.navNode),a.anim.show(a)},hide:function(){var a=this;a.cfg,a.stopAnim(a.navNode),a.anim.hide(a)},init:function(){var a=this;return a._checkParam()?(a._initCxt(),a._when(),a._resetStyle(),a._addEvent(),void 0):!1}},{ATTRS:{}}),l},{requires:["node","anim","base","./mods/normal","./mods/fade","./mods/zoom","./mods/rotate","./mods/blur","./mods/blink","./mods/tool"]});